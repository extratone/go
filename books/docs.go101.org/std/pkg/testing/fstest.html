<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: testing/fstest</title>
<link href="../../css/light-v0.3.1.css" rel="stylesheet">
<script src="../../jvs/golds-v0.3.1.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>fstest</b></span>

<span class="title">Import Path</span>
	<a href="../../index.html#pkg-testing/fstest">testing/fstest</a><i> (on <a href="https://golang.org/pkg/testing/fstest/" target="_blank">golang.org</a> and <a href="https://pkg.go.dev/testing/fstest" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../dep/testing/fstest.html">11 packages</a>, and imported by 0 packages

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">      <a href="../../src/testing/fstest/mapfs.go.html">mapfs.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">   <a href="../../src/testing/fstest/testfs.go.html#doc">dâžœ</a> <a href="../../src/testing/fstest/testfs.go.html">testfs.go</a></label><span id='file-1-fold-content-items' class="fold-items">
		Package fstest implements support for testing implementations and users of file systems.</span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-MapFile" data-popularity="0">	<input type='checkbox' class="fold" id="MapFile-fold-content"><label for="MapFile-fold-content"> type <a href="../../src/testing/fstest/mapfs.go.html#line-36">MapFile</a> <i>(struct)</i></label><span id='MapFile-fold-content-docs' class="fold-docs">
		A MapFile describes a single file in a MapFS.

		<input type='checkbox' class="fold" id="MapFile-fold-fields"><label for="MapFile-fold-fields">Fields (<i>total 4</i>)</label><span id='MapFile-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="MapFile-fold-field-Data"><label for="MapFile-fold-field-Data"><a href="../../src/testing/fstest/mapfs.go.html#line-37">Data</a> <i>[]<a href="../builtin.html#name-byte">byte</a></i></label><span id='MapFile-fold-field-Data-docs' class="fold-docs">
				// file content
</span></span><span>
			<input type='checkbox' class="fold" id="MapFile-fold-field-ModTime"><label for="MapFile-fold-field-ModTime"><a href="../../src/testing/fstest/mapfs.go.html#line-39">ModTime</a> <i><a href="../time.html">time</a>.<a href="../time.html#name-Time">Time</a></i></label><span id='MapFile-fold-field-ModTime-docs' class="fold-docs">
				// FileInfo.ModTime
</span></span><span>
			<input type='checkbox' class="fold" id="MapFile-fold-field-Mode"><label for="MapFile-fold-field-Mode"><a href="../../src/testing/fstest/mapfs.go.html#line-38">Mode</a> <i><a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-FileMode">FileMode</a></i></label><span id='MapFile-fold-field-Mode-docs' class="fold-docs">
				// FileInfo.Mode
</span></span><span>
			<input type='checkbox' class="fold" id="MapFile-fold-field-Sys"><label for="MapFile-fold-field-Sys"><a href="../../src/testing/fstest/mapfs.go.html#line-40">Sys</a> <i>interface{}</i></label><span id='MapFile-fold-field-Sys-docs' class="fold-docs">
				// FileInfo.Sys
</span></span></span>

</span></div><div class="anchor type-res" id="name-MapFS" data-popularity="600">	<input type='checkbox' class="fold" id="MapFS-fold-content"><label for="MapFS-fold-content"> type <a href="../../src/testing/fstest/mapfs.go.html#line-33">MapFS</a> <i>(map)</i></label><span id='MapFS-fold-content-docs' class="fold-docs">
		A MapFS is a simple in-memory file system for use in tests,
		represented as a map from path names (arguments to Open)
		to information about the files or directories they represent.

		The map need not include parent directories for files contained
		in the map; those will be synthesized if needed.
		But a directory can still be included by setting the MapFile.Mode's ModeDir bit;
		this may be necessary for detailed control over the directory's FileInfo
		or to create an empty directory.

		File system operations read directly from the map,
		so that the file system can be changed by editing the map as needed.
		An implication is that file system operations must not run concurrently
		with changes to the map, which would be a race.
		Another implication is that opening or reading a directory requires
		iterating over the entire map, so a MapFS should typically be used with not more
		than a few hundred entries or directory reads.

		<input type='checkbox' class="fold" id="MapFS-fold-methods"><label for="MapFS-fold-methods">Methods (<i>total 6</i>)</label><span id='MapFS-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-131">Glob</a>(pattern <a href="../builtin.html#name-string">string</a>) ([]<a href="../builtin.html#name-string">string</a>, <a href="../builtin.html#name-error">error</a>)</span></span><span>
			<input type='checkbox' class="fold" id="MapFS-fold-method-Open"><label for="MapFS-fold-method-Open">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-47">Open</a>(name <a href="../builtin.html#name-string">string</a>) (<a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-File">File</a>, <a href="../builtin.html#name-error">error</a>)</label><span id='MapFS-fold-method-Open-docs' class="fold-docs">
				Open opens the named file.
</span></span><span>
			<span class="nodocs">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-127">ReadDir</a>(name <a href="../builtin.html#name-string">string</a>) ([]<a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-DirEntry">DirEntry</a>, <a href="../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-119">ReadFile</a>(name <a href="../builtin.html#name-string">string</a>) ([]<a href="../builtin.html#name-byte">byte</a>, <a href="../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-123">Stat</a>(name <a href="../builtin.html#name-string">string</a>) (<a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-FileInfo">FileInfo</a>, <a href="../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">( T) <a href="../../src/testing/fstest/mapfs.go.html#line-141">Sub</a>(dir <a href="../builtin.html#name-string">string</a>) (<a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-FS">FS</a>, <a href="../builtin.html#name-error">error</a>)</span></span></span>
		<input type='checkbox' class="fold" id="MapFS-fold-impls"><label for="MapFS-fold-impls">Implements (<i>at least 6</i>)</label><span id='MapFS-fold-impls-items' class="fold-items"><span>
			 T : io/fs.<a href="../io/fs.html#name-FS">FS</a></span><span>
			 T : io/fs.<a href="../io/fs.html#name-GlobFS">GlobFS</a></span><span>
			 T : io/fs.<a href="../io/fs.html#name-ReadDirFS">ReadDirFS</a></span><span>
			 T : io/fs.<a href="../io/fs.html#name-ReadFileFS">ReadFileFS</a></span><span>
			 T : io/fs.<a href="../io/fs.html#name-StatFS">StatFS</a></span><span>
			 T : io/fs.<a href="../io/fs.html#name-SubFS">SubFS</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (only one)</i></span></span>

<div class="anchor value-res" id="name-TestFS">	<input type='checkbox' class="fold" id="TestFS-fold-content"><label for="TestFS-fold-content"> func <a href="../../src/testing/fstest/testfs.go.html#line-38">TestFS</a>(fsys <a href="../io/fs.html">fs</a>.<a href="../io/fs.html#name-FS">FS</a>, expected ...<a href="../builtin.html#name-string">string</a>) <a href="../builtin.html#name-error">error</a></label><span id='TestFS-fold-content-docs' class="fold-docs">
		TestFS tests a file system implementation.
		It walks the entire tree of files in fsys,
		opening and checking that each file behaves correctly.
		It also checks that the file system contains at least the expected files.
		As a special case, if no expected files are listed, fsys must be empty.
		Otherwise, fsys must only contain at least the listed files: it can also contain others.
		The contents of fsys must not change concurrently with TestFS.

		If TestFS finds any misbehaviors, it returns an error reporting all of them.
		The error text spans multiple lines, one per detected misbehavior.

		Typical usage inside a test is:

			if err := fstest.TestFS(myFS, "file/that/should/be/present"); err != nil {
				t.Fatal(err)
			}

</span></div></div></code></pre><pre id="footer"><table><tr><td><img src="../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="../../../../go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.1</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="../../../../go101.org/index.html">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>